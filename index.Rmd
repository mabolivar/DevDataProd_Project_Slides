---
title       : Predict your rent in Bogota (ShinyApp)
subtitle    : Developing Data Products course project
author      : Manuel A. Bolivar, Instructor
job         : Universidad de los Andes
framework   : io2012        # {io2012, html5slides, shower, dzslides, ...}
highlighter : highlight.js  # {highlight.js, prettify, highlight}
hitheme     : tomorrow      # 
widgets     : []            # {mathjax, quiz, bootstrap}
mode        : selfcontained # {standalone, draft}
knit        : slidify::knit2slides
ext_widgets : {rCharts: ["libraries/leaflet"]}
---

## Motivation
   
+ In the last few years in Bogota, the land price has shown a significant increase due to the high demand.
+ Due to the high prices, people decide to rent apartments instead of buying them.

```{r echo=FALSE,results="asis"}
#library(leaflet)
library(rCharts)
Bogota <- c(4.650711,-74.093193) #Coordinates in decimal degrees
map3 <- Leaflet$new()
map3$setView(Bogota, zoom = 11)
map3$marker(c(4.650711, -74.093193), bindPopup = "<p> Bogota, Colombia </p>")
map3$save('fig/map3.html', cdn = TRUE)
cat('<iframe src="fig/map3.html" width=100%, height=600></iframe>')


```

--- .class #id 

##  The Data
+ The data of the  properties in rent was obtained from online classified ads of a local newspaper.
+ The data was collected on September 23/2015 using `rvest` package and contains 1000 records of the last published ads.
+ Due to their high demand, only neighbourhoods located in the downtown were considered.



```{r echo=FALSE}
library(readr)
rentdata <- read_csv("C:/Users/Manuel/Dropbox/3. DSS/DevelopingDataProducts/ShinyApp/data/tidy.csv")
rentdata <- rentdata[rentdata$price<5000000,]
rentdata$price <-rentdata$price/3000
```

```{r head}
rentdata <- rentdata[complete.cases(rentdata),]
head(rentdata)
```



---

## Average monthly rent
The following figure presents a boxplot comparing the distribution of rent prices trough each different neighbourhood.

```{r summary,  fig.width=13, fig.height=5}
library(ggplot2)
ggplot(data=rentdata) +geom_boxplot(aes(y=price,x=neigh), fill="steel blue") +
  ylab("Price (USD/month)")+ xlab("Neighbourhood")

```

---

## Shiny app
Using this app you can calculate the monthtly rent of your desired apartment in Bogota.
It is powered by a machine learning algorithm to correctly predict the rent ([website](https://mabolivar.shinyapps.io/ShinyApp))

```{r echo=FALSE,results="asis"}
#cat('<iframe src="http://stackoverflow.com", width=100%, height=600></iframe>')
#cat('<embed src= https://mabolivar.shinyapps.io/ShinyApp width=100% height=400> </embed>')
```


```{r echo=F,eval=FALSE}
setwd("C:/Users/Manuel/Dropbox/3. DSS/DevDataProd_Project_Slides")
slidify("index.Rmd")
browseURL("index.html")
publish(user = "mabolivar", repo = "DevDataProd_Project_Slides")
publish(title = 'mytitle', 'index.html', host = 'rpubs')
```





